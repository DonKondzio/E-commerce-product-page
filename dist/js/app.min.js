"use strict";var navMobileBars=document.querySelector(".nav__mobile-bars"),navMobileClose=document.querySelector(".nav__mobile-close"),navMobile=document.querySelector(".nav__mobile"),navMobilePanel=document.querySelector(".nav__mobile-panel"),sliderImg=document.getElementsByClassName("slider-img")[0],sliderArrowLeft=document.querySelector(".slider-arrow--left"),sliderArrowRight=document.querySelector(".slider-arrow--right"),allThumbnails=document.querySelectorAll(".thumbnail"),shadow=document.querySelector(".shadow"),largeSlider=document.querySelector(".slider-large-container"),largeSliderImg=document.querySelector(".slider-large-img"),largeSliderArrowLeft=document.querySelector(".slider-large-arrow--left"),largeSliderArrowRight=document.querySelector(".slider-large-arrow--right"),largeSliderClose=document.querySelector(".slider-large-close"),allLargeSliderThumbnails=document.querySelectorAll(".slider-large-thumbnails .thumbnail"),cart=document.querySelector(".cart"),navCartBtn=document.querySelector(".nav__cart"),addToCartBtn=document.querySelector(".btn-cart"),countPlusBtn=document.querySelector(".count-btn--plus"),countMinusBtn=document.querySelector(".count-btn--minus"),productsToAddDisplay=document.querySelector(".count"),productCount=document.querySelector(".product-count"),productPrice=document.querySelector(".price"),totalPrice=document.querySelector(".total-price"),deleteBtn=document.querySelector(".cart-filled-upper-trash"),currentPhotoNum=1,productsToAdd=0,productsAdded=0,animationInProgress=!1,handleMobileNav=function(){animationInProgress=!0,navMobileBars.classList.toggle("animate-spin"),navMobileClose.classList.toggle("animate-spin"),navMobile.classList.toggle("active"),navMobilePanel.classList.toggle("animate-slide"),setTimeout(function(){navMobileBars.classList.toggle("active"),navMobileClose.classList.toggle("active"),animationInProgress=!1},300)},swipePhotoLeft=function(e){0===--currentPhotoNum&&(currentPhotoNum=4),e.setAttribute("style","background-image: url(dist/img/image-product-".concat(currentPhotoNum,".jpg)"))},swipePhotoRight=function(e){5===++currentPhotoNum&&(currentPhotoNum=1),e.setAttribute("style","background-image: url(dist/img/image-product-".concat(currentPhotoNum,".jpg)"))},displaySelectedThumbnail=function(){console.log(document.querySelector(".thumbnail:focus"))},setDisplayedImg=function(e){e.url},changePhoto=function(r){allThumbnails.forEach(function(e,t){for(var o=0;o<4;o++)allThumbnails[o]===r.target.parentElement&&(sliderImg.setAttribute("style","background-image: url(dist/img/image-product-".concat(o+1,".jpg)")),currentPhotoNum=o+1)})},changePhotoLightbox=function(r){allLargeSliderThumbnails.forEach(function(e,t){for(var o=0;o<4;o++)allLargeSliderThumbnails[o]===r.target.parentElement&&largeSliderImg.setAttribute("style","background-image: url(dist/img/image-product-".concat(o+1,".jpg)"))})},changeCountToAdd=function(e){"-"===e&&0!==productsToAdd?productsToAdd--:"+"===e&&productsToAdd++,productsToAddDisplay.textContent=productsToAdd},addToCart=function(){productsAdded+=productsToAdd,productsToAdd=0,(productsToAddDisplay.textContent=0)<productsAdded&&(cart.classList.add("filled"),productCount.textContent=productsAdded,totalPrice.textContent="$".concat(+productPrice.textContent.substring(1)*productsAdded,".00"))},deleteProducts=function(){productsAdded=0,cart.classList.remove("filled")},switchCartFilled=function(){cart.classList.toggle("filled"),console.log("dupa")},switchCart=function(){cart.classList.toggle("active"),navCartBtn.classList.add("animate-pulse"),setTimeout(function(){navCartBtn.classList.remove("animate-pulse")},300)},showLightbox=function(){largeSlider.classList.add("active"),largeSliderImg.style.backgroundImage=" url(dist/img/image-product-".concat(currentPhotoNum,".jpg)")},hideLightbox=function(){largeSlider.classList.remove("active")};allThumbnails.forEach(function(e){e.addEventListener("click",changePhoto)}),shadow.addEventListener("click",hideLightbox),largeSliderClose.addEventListener("click",hideLightbox),sliderImg.addEventListener("click",function(){992<=window.innerWidth&&showLightbox()}),sliderArrowLeft.addEventListener("click",function(){swipePhotoLeft(sliderImg)}),sliderArrowRight.addEventListener("click",function(){swipePhotoRight(sliderImg)}),document.addEventListener("keydown",function(e){"Escape"===e.code&&hideLightbox()}),allLargeSliderThumbnails.forEach(function(e){e.addEventListener("click",changePhotoLightbox)}),largeSliderArrowLeft.addEventListener("click",function(){swipePhotoLeft(largeSliderImg)}),largeSliderArrowRight.addEventListener("click",function(){swipePhotoRight(largeSliderImg)}),navMobileBars.addEventListener("click",function(){animationInProgress?console.log("not so fast"):handleMobileNav()}),navMobileClose.addEventListener("click",function(){animationInProgress?console.log("not so fast"):handleMobileNav()}),navCartBtn.addEventListener("click",switchCart),countMinusBtn.addEventListener("click",function(){changeCountToAdd("-")}),countPlusBtn.addEventListener("click",function(){changeCountToAdd("+")}),addToCartBtn.addEventListener("click",addToCart),deleteBtn.addEventListener("click",deleteProducts);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJuYXZNb2JpbGVCYXJzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2TW9iaWxlQ2xvc2UiLCJuYXZNb2JpbGUiLCJuYXZNb2JpbGVQYW5lbCIsInNsaWRlckltZyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzbGlkZXJBcnJvd0xlZnQiLCJzbGlkZXJBcnJvd1JpZ2h0IiwiYWxsVGh1bWJuYWlscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsYXJnZVNsaWRlciIsImxhcmdlU2xpZGVySW1nIiwibGFyZ2VTbGlkZXJBcnJvd0xlZnQiLCJsYXJnZVNsaWRlckFycm93UmlnaHQiLCJjYXJ0IiwiY291bnRQbHVzQnRuIiwiY291bnRNaW51c0J0biIsInByb2R1Y3RQcmljZSIsInRvdGFsUHJpY2UiLCJkZWxldGVCdG4iLCJjdXJyZW50UGhvdG9OdW0iLCJwcm9kdWN0c1RvQWRkIiwicHJvZHVjdHNBZGRlZCIsImFuaW1hdGlvbkluUHJvZ3Jlc3MiLCJoYW5kbGVNb2JpbGVOYXYiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJzZXRUaW1lb3V0Iiwic3dpcGVQaG90b0xlZnQiLCJzbGlkZXIiLCJzZXRBdHRyaWJ1dGUiLCJzd2lwZVBob3RvUmlnaHQiLCJjb25zb2xlIiwiY29uY2F0IiwiY2hvc2VuVGh1bWJuYWlsIiwiZGlzcGxheVNlbGVjdGVkVGh1bWJuYWlsIiwiaSIsImFsbExhcmdlU2xpZGVyVGh1bWJuYWlscyIsInBhcmVudEVsZW1lbnQiLCJzZXREaXNwbGF5ZWRJbWciLCJ1cmwiLCJzaWduIiwiZSIsInRodW1ibmFpbCIsInRhcmdldCIsInByb2R1Y3RzVG9BZGREaXNwbGF5IiwiYWRkVG9DYXJ0IiwiZm9yRWFjaCIsImRlbGV0ZVByb2R1Y3RzIiwicmVtb3ZlIiwic3dpdGNoQ2FydEZpbGxlZCIsIm5hdkNhcnRCdG4iLCJhZGQiLCJ0ZXh0Q29udGVudCIsImhpZGVMaWdodGJveCIsInNoYWRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJsYXJnZVNsaWRlckNsb3NlIiwic3Vic3RyaW5nIiwibG9nIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJzd2l0Y2hDYXJ0IiwiY2hhbmdlUGhvdG8iLCJhZGRUb0NhcnRCdG4iLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwic2hvd0xpZ2h0Ym94IiwiY29kZSIsImNoYW5nZVBob3RvTGlnaHRib3giLCJjaGFuZ2VDb3VudFRvQWRkIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLElBQU1BLGNBQWdCQyxTQUFTQyxjQUFjLG1CQUFvQixFQUMzREMsZUFBaUJGLFNBQVNDLGNBQWMsb0JBQXFCLEVBQzdERSxVQUFZSCxTQUFTQyxjQUFjLGNBQWUsRUFDbERHLGVBQWlCSixTQUFTQyxjQUFjLG9CQUFxQixFQUM3REksVUFBWUwsU0FBU00sdUJBQXVCLFlBQWMsRUFBRSxHQUM1REMsZ0JBQWtCUCxTQUFTQyxjQUFjLHFCQUFzQixFQUMvRE8saUJBQW1CUixTQUFTQyxjQUFjLHNCQUF1QixFQUNqRVEsY0FBZ0JULFNBQVNVLGlCQUFpQixZQUFhLEVBR3ZEQyxPQUFXWCxTQUFHQSxjQUFTQyxTQUFjLEVBQ3JDVyxZQUFjWixTQUFXQyxjQUFjLHlCQUFxQixFQUM1RFksZUFBQUEsU0FBdUJiLGNBQVNDLG1CQUNwQyxFQUVJYSxxQkFBd0JkLFNBQVNDLGNBR3ZDLDJCQUNBLEVBR01jLHNCQUFnQmQsU0FBY0EsY0FDcEMsNEJBQ0EsRUFDTWUsaUJBQWVoQixTQUFTQyxjQUFjLHFCQUFtQixFQUN6RGdCLHlCQUF5QmhCLFNBQWFTLGlCQUM1QyxxQ0FDQSxFQUNNUSxLQUFBQSxTQUFlbEIsY0FBU0MsT0FBYyxFQUN0Q2tCLFdBQWFuQixTQUFTQyxjQUFjLFlBQWMsRUFDbERtQixhQUFZcEIsU0FBU0MsY0FBYyxXQUFBLEVBRXJDb0IsYUFBZXJCLFNBQUlDLGNBQUEsa0JBQUEsRUFDbkJxQixjQUFpQnRCLFNBQUFDLGNBQUEsbUJBQUEsRUFDakJzQixxQkFBaUJ2QixTQUFBQyxjQUFBLFFBQUEs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SSxhQUFhLEVBQTdDbkMsZ0JBQWdCLENBQ3pDLENBQUMsRUFDRDJCLFdBQVdLLGlCQUFpQixRQUFTTSxVQUFVLEVBRS9DOUMsY0FBY3dDLGlCQUFpQixRQUFTLFdBQ3RDYyxpQkFBaUIsR0FBRyxDQUN0QixDQUFDLEVBRUR2RCxhQUFheUMsaUJBQWlCLFFBQVMsV0FDckNjLGlCQUFpQixHQUFHLENBQ3RCLENBQUMsRUFFRE4sYUFBYVIsaUJBQWlCLFFBQVNWLFNBQVMsRUFDaEQzQixVQUFVcUMsaUJBQWlCLFFBQVNSLGNBQWMiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxuY29uc3QgbmF2TW9iaWxlQmFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19tb2JpbGUtYmFyc1wiKTtcclxuY29uc3QgbmF2TW9iaWxlQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fbW9iaWxlLWNsb3NlXCIpO1xyXG5jb25zdCBuYXZNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fbW9iaWxlXCIpO1xyXG5jb25zdCBuYXZNb2JpbGVQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19tb2JpbGUtcGFuZWxcIik7XHJcbmNvbnN0IHNsaWRlckltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzbGlkZXItaW1nXCIpWzBdO1xyXG5jb25zdCBzbGlkZXJBcnJvd0xlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlci1hcnJvdy0tbGVmdFwiKTtcclxuY29uc3Qgc2xpZGVyQXJyb3dSaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyLWFycm93LS1yaWdodFwiKTtcclxuY29uc3QgYWxsVGh1bWJuYWlscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGh1bWJuYWlsXCIpO1xyXG5cclxuY29uc3Qgc2hhZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaGFkb3dcIik7XHJcbmNvbnN0IGxhcmdlU2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGlkZXItbGFyZ2UtY29udGFpbmVyXCIpO1xyXG5jb25zdCBsYXJnZVNsaWRlckltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyLWxhcmdlLWltZ1wiKTtcclxuY29uc3QgbGFyZ2VTbGlkZXJBcnJvd0xlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnNsaWRlci1sYXJnZS1hcnJvdy0tbGVmdFwiXHJcbik7XHJcbmNvbnN0IGxhcmdlU2xpZGVyQXJyb3dSaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuc2xpZGVyLWxhcmdlLWFycm93LS1yaWdodFwiXHJcbik7XHJcbmNvbnN0IGxhcmdlU2xpZGVyQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlci1sYXJnZS1jbG9zZVwiKTtcclxuY29uc3QgYWxsTGFyZ2VTbGlkZXJUaHVtYm5haWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICBcIi5zbGlkZXItbGFyZ2UtdGh1bWJuYWlscyAudGh1bWJuYWlsXCJcclxuKTtcclxuY29uc3QgY2FydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FydFwiKTtcclxuY29uc3QgbmF2Q2FydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19jYXJ0XCIpO1xyXG5jb25zdCBhZGRUb0NhcnRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1jYXJ0XCIpO1xyXG5jb25zdCBjb3VudFBsdXNCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvdW50LWJ0bi0tcGx1c1wiKTtcclxuY29uc3QgY291bnRNaW51c0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY291bnQtYnRuLS1taW51c1wiKTtcclxuY29uc3QgcHJvZHVjdHNUb0FkZERpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvdW50XCIpO1xyXG5jb25zdCBwcm9kdWN0Q291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2R1Y3QtY291bnRcIik7XHJcbmNvbnN0IHByb2R1Y3RQcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJpY2VcIik7XHJcbmNvbnN0IHRvdGFsUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvdGFsLXByaWNlXCIpO1xyXG5jb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcnQtZmlsbGVkLXVwcGVyLXRyYXNoXCIpO1xyXG5cclxubGV0IGN1cnJlbnRQaG90b051bSA9IDE7XHJcbmxldCBwcm9kdWN0c1RvQWRkID0gMDtcclxubGV0IHByb2R1Y3RzQWRkZWQgPSAwO1xyXG5sZXQgYW5pbWF0aW9uSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG5cclxuY29uc3QgaGFuZGxlTW9iaWxlTmF2ID0gKCkgPT4ge1xyXG4gIGFuaW1hdGlvbkluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gIG5hdk1vYmlsZUJhcnMuY2xhc3NMaXN0LnRvZ2dsZShcImFuaW1hdGUtc3BpblwiKTtcclxuICBuYXZNb2JpbGVDbG9zZS5jbGFzc0xpc3QudG9nZ2xlKFwiYW5pbWF0ZS1zcGluXCIpO1xyXG4gIG5hdk1vYmlsZS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gIG5hdk1vYmlsZVBhbmVsLmNsYXNzTGlzdC50b2dnbGUoXCJhbmltYXRlLXNsaWRlXCIpO1xyXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgbmF2TW9iaWxlQmFycy5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgbmF2TW9iaWxlQ2xvc2UuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgIGFuaW1hdGlvbkluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICB9LCAzMDApO1xyXG59O1xyXG5cclxuY29uc3Qgc3dpcGVQaG90b0xlZnQgPSAoc2xpZGVyKSA9PiB7XHJcbiAgY3VycmVudFBob3RvTnVtLS07XHJcbiAgaWYgKGN1cnJlbnRQaG90b051bSA9PT0gMCkge1xyXG4gICAgY3VycmVudFBob3RvTnVtID0gNDtcclxuICB9XHJcbiAgc2xpZGVyLnNldEF0dHJpYnV0ZShcclxuICAgIFwic3R5bGVcIixcclxuICAgIGBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGlzdC9pbWcvaW1hZ2UtcHJvZHVjdC0ke2N1cnJlbnRQaG90b051bX0uanBnKWBcclxuICApO1xyXG59O1xyXG5cclxuY29uc3Qgc3dpcGVQaG90b1JpZ2h0ID0gKHNsaWRlcikgPT4ge1xyXG4gIGN1cnJlbnRQaG90b051bSsrO1xyXG4gIGlmIChjdXJyZW50UGhvdG9OdW0gPT09IDUpIHtcclxuICAgIGN1cnJlbnRQaG90b051bSA9IDE7XHJcbiAgfVxyXG4gIHNsaWRlci5zZXRBdHRyaWJ1dGUoXHJcbiAgICBcInN0eWxlXCIsXHJcbiAgICBgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRpc3QvaW1nL2ltYWdlLXByb2R1Y3QtJHtjdXJyZW50UGhvdG9OdW19LmpwZylgXHJcbiAgKTtcclxufTtcclxuXHJcbmNvbnN0IGRpc3BsYXlTZWxlY3RlZFRodW1ibmFpbCA9ICgpID0+IHtcclxuICBjb25zb2xlLmxvZyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRodW1ibmFpbDpmb2N1c1wiKSk7XHJcbn07XHJcblxyXG5jb25zdCBzZXREaXNwbGF5ZWRJbWcgPSAoY2hvc2VuVGh1bWJuYWlsKSA9PiB7XHJcbiAgY2hvc2VuVGh1bWJuYWlsLnVybDtcclxufTtcclxuXHJcbmNvbnN0IGNoYW5nZVBob3RvID0gKGUpID0+IHtcclxuICBhbGxUaHVtYm5haWxzLmZvckVhY2goKHRodW1ibmFpbCwgaSkgPT4ge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgaWYgKGFsbFRodW1ibmFpbHNbaV0gPT09IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQpIHtcclxuICAgICAgICBzbGlkZXJJbWcuc2V0QXR0cmlidXRlKFxyXG4gICAgICAgICAgXCJzdHlsZVwiLFxyXG4gICAgICAgICAgYGJhY2tncm91bmQtaW1hZ2U6IHVybChkaXN0L2ltZy9pbWFnZS1wcm9kdWN0LSR7aSArIDF9LmpwZylgXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjdXJyZW50UGhvdG9OdW0gPSBpICsgMTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgY2hhbmdlUGhvdG9MaWdodGJveCA9IChlKSA9PiB7XHJcbiAgYWxsTGFyZ2VTbGlkZXJUaHVtYm5haWxzLmZvckVhY2goKHRodW1ibmFpbCwgaSkgPT4ge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgaWYgKGFsbExhcmdlU2xpZGVyVGh1bWJuYWlsc1tpXSA9PT0gZS50YXJnZXQucGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgIGxhcmdlU2xpZGVySW1nLnNldEF0dHJpYnV0ZShcclxuICAgICAgICAgIFwic3R5bGVcIixcclxuICAgICAgICAgIGBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGlzdC9pbWcvaW1hZ2UtcHJvZHVjdC0ke2kgKyAxfS5qcGcpYFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGNoYW5nZUNvdW50VG9BZGQgPSAoc2lnbikgPT4ge1xyXG4gIGlmIChzaWduID09PSBcIi1cIiAmJiBwcm9kdWN0c1RvQWRkICE9PSAwKSB7XHJcbiAgICBwcm9kdWN0c1RvQWRkLS07XHJcbiAgfSBlbHNlIGlmIChzaWduID09PSBcIitcIikge1xyXG4gICAgcHJvZHVjdHNUb0FkZCsrO1xyXG4gIH1cclxuICBwcm9kdWN0c1RvQWRkRGlzcGxheS50ZXh0Q29udGVudCA9IHByb2R1Y3RzVG9BZGQ7XHJcbn07XHJcblxyXG5jb25zdCBhZGRUb0NhcnQgPSAoKSA9PiB7XHJcbiAgcHJvZHVjdHNBZGRlZCArPSBwcm9kdWN0c1RvQWRkO1xyXG4gIHByb2R1Y3RzVG9BZGQgPSAwO1xyXG4gIHByb2R1Y3RzVG9BZGREaXNwbGF5LnRleHRDb250ZW50ID0gMDtcclxuICBpZiAocHJvZHVjdHNBZGRlZCA+IDApIHtcclxuICAgIGNhcnQuY2xhc3NMaXN0LmFkZChcImZpbGxlZFwiKTtcclxuICAgIHByb2R1Y3RDb3VudC50ZXh0Q29udGVudCA9IHByb2R1Y3RzQWRkZWQ7XHJcbiAgICB0b3RhbFByaWNlLnRleHRDb250ZW50ID0gYCQke1xyXG4gICAgICArcHJvZHVjdFByaWNlLnRleHRDb250ZW50LnN1YnN0cmluZygxKSAqIHByb2R1Y3RzQWRkZWRcclxuICAgIH0uMDBgO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGRlbGV0ZVByb2R1Y3RzID0gKCkgPT4ge1xyXG4gIHByb2R1Y3RzQWRkZWQgPSAwO1xyXG4gIGNhcnQuY2xhc3NMaXN0LnJlbW92ZShcImZpbGxlZFwiKTtcclxufTtcclxuXHJcbmNvbnN0IHN3aXRjaENhcnRGaWxsZWQgPSAoKSA9PiB7XHJcbiAgY2FydC5jbGFzc0xpc3QudG9nZ2xlKFwiZmlsbGVkXCIpO1xyXG4gIGNvbnNvbGUubG9nKFwiZHVwYVwiKTtcclxufTtcclxuXHJcbmNvbnN0IHN3aXRjaENhcnQgPSAoKSA9PiB7XHJcbiAgY2FydC5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gIG5hdkNhcnRCdG4uY2xhc3NMaXN0LmFkZChcImFuaW1hdGUtcHVsc2VcIik7XHJcbiAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICBuYXZDYXJ0QnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJhbmltYXRlLXB1bHNlXCIpO1xyXG4gIH0sIDMwMCk7XHJcbn07XHJcblxyXG5jb25zdCBzaG93TGlnaHRib3ggPSAoKSA9PiB7XHJcbiAgbGFyZ2VTbGlkZXIuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICBsYXJnZVNsaWRlckltZy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgIHVybChkaXN0L2ltZy9pbWFnZS1wcm9kdWN0LSR7Y3VycmVudFBob3RvTnVtfS5qcGcpYDtcclxufTtcclxuXHJcbmNvbnN0IGhpZGVMaWdodGJveCA9ICgpID0+IHtcclxuICBsYXJnZVNsaWRlci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG59O1xyXG5cclxuYWxsVGh1bWJuYWlscy5mb3JFYWNoKCh0aHVtYm5haWwpID0+IHtcclxuICB0aHVtYm5haWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNoYW5nZVBob3RvKTtcclxufSk7XHJcblxyXG5zaGFkb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhpZGVMaWdodGJveCk7XHJcbmxhcmdlU2xpZGVyQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhpZGVMaWdodGJveCk7XHJcbnNsaWRlckltZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSA5OTIpIHNob3dMaWdodGJveCgpO1xyXG59KTtcclxuc2xpZGVyQXJyb3dMZWZ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgc3dpcGVQaG90b0xlZnQoc2xpZGVySW1nKTtcclxufSk7XHJcbnNsaWRlckFycm93UmlnaHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBzd2lwZVBob3RvUmlnaHQoc2xpZGVySW1nKTtcclxufSk7XHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XHJcbiAgaWYgKGUuY29kZSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgaGlkZUxpZ2h0Ym94KCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmFsbExhcmdlU2xpZGVyVGh1bWJuYWlscy5mb3JFYWNoKCh0aHVtYm5haWwpID0+IHtcclxuICB0aHVtYm5haWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNoYW5nZVBob3RvTGlnaHRib3gpO1xyXG59KTtcclxubGFyZ2VTbGlkZXJBcnJvd0xlZnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBzd2lwZVBob3RvTGVmdChsYXJnZVNsaWRlckltZyk7XHJcbn0pO1xyXG5sYXJnZVNsaWRlckFycm93UmlnaHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBzd2lwZVBob3RvUmlnaHQobGFyZ2VTbGlkZXJJbWcpO1xyXG59KTtcclxuXHJcbm5hdk1vYmlsZUJhcnMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAhYW5pbWF0aW9uSW5Qcm9ncmVzcyA/IGhhbmRsZU1vYmlsZU5hdigpIDogY29uc29sZS5sb2coXCJub3Qgc28gZmFzdFwiKTtcclxufSk7XHJcblxyXG5uYXZNb2JpbGVDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICFhbmltYXRpb25JblByb2dyZXNzID8gaGFuZGxlTW9iaWxlTmF2KCkgOiBjb25zb2xlLmxvZyhcIm5vdCBzbyBmYXN0XCIpO1xyXG59KTtcclxubmF2Q2FydEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc3dpdGNoQ2FydCk7XHJcblxyXG5jb3VudE1pbnVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY2hhbmdlQ291bnRUb0FkZChcIi1cIik7XHJcbn0pO1xyXG5cclxuY291bnRQbHVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY2hhbmdlQ291bnRUb0FkZChcIitcIik7XHJcbn0pO1xyXG5cclxuYWRkVG9DYXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhZGRUb0NhcnQpO1xyXG5kZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGRlbGV0ZVByb2R1Y3RzKTtcclxuIl19
